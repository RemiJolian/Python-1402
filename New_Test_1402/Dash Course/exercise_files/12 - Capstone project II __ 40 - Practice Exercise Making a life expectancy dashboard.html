<h4>Context</h4><p><br></p><p>You've learned a lot in this course! So let's practice the key knowledge, and even learn something new in this last exercise.</p><p><br></p><p>How did life expectancy change in our world?</p><p>You'll build a stylish, interactive dashboard to answer this question. Please check out the final dashboard <a href="https://life-expectancy-dashboard.herokuapp.com/" rel="noopener noreferrer" target="_blank"><strong>here</strong></a>. Please explore the dashboard, and use it as a reference throughout the exercise.</p><p>You can follow the step-by-step instructions below. To make the practice more realistic and challenging, we didn't list details. Please aim for making the dashboard look roughly the same, and have the same interactive features.</p><p><br></p><p>Good luck!</p><p><br></p><h4>Instructions</h4><p><br></p><p><strong>Step 1: Exploring the dataset</strong></p><p>- Open the <code>life_expectancy.csv</code> file</p><p>Suppose we want to compare the changes in life expectancy for different countries across time. What are the columns in the dataset we'll be using?</p><p><br></p><p><strong>Step 2: Preparing to build the Dash app</strong></p><p>- Import the libraries</p><p>Please explore the final dashboard to see the necessary libraries. Yet, you can always add more libraries later.</p><p><br></p><p>- Read the csv file as a pandas DataFrame</p><p><br></p><p>- Create a Dash object called <code>app</code>, link to the standard Bootstrap stylesheet</p><p><br></p><p><strong>Step 3: Building the layout</strong></p><p>- Put the following components into the layout:</p><p>&nbsp; - <code>NavbarSimple</code> as shown on the final dashboard:</p><p>&nbsp; &nbsp; - data source: https://ourworldindata.org/life-expectancy</p><p>&nbsp; &nbsp; - sticky on top</p><p><em>Hint: in the course, we didn't show how to style the brand text or make the bar sticky. Please research the official doc of </em><code><em>NavbarSimple</em></code><em> for the solution. This is how you learn to use a new Dash component.</em></p><p><br></p><p>&nbsp; - A <code>Card</code> to hold:</p><p>&nbsp; &nbsp; - a heading of 'Life expectancy by countries'</p><p>&nbsp; &nbsp; - a year <code>RangeSlider</code> as shown in the final dashboard, with the currently selected range being the entire range. This <code>RangeSlider</code> will be used in a callback function</p><p>&nbsp; &nbsp; &nbsp; &nbsp;- use the <code>tooltip</code> property to display the current value of the <code>RangeSlider</code> </p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<em> Hint: please research the official doc for how to use </em><code><em>tooltip</em></code><em> </em></p><p><br></p><p>&nbsp; - A line breaker</p><p><br></p><p>&nbsp; - A multi-value <code>Dropdown</code> component, which shows the unique countries. It will be used in a callback function</p><p><em>Hint: we didn't show the multi-value </em><code><em>Dropdown</em></code><em> in the course. But you can research it in the official doc of the </em><code><em>Dropdown</em></code><em> component.</em></p><p><br></p><p>&nbsp; - A line breaker</p><p><br></p><p>&nbsp; - A <code>Button</code> that will be used in a callback function</p><p><br></p><p>&nbsp; - A line breaker</p><p><br></p><p>&nbsp; - A <code>Graph</code> component that will be used in a callback function</p><p><br></p><p>We strongly suggest testing out the code to see if the layout looks good, before moving on to the next step.</p><p>Again, since we didn't provide all the details, you've completed the layout as long as it looks similar to the final dashboard.</p><p><br></p><p><strong>Step 4: Adding callback function</strong></p><p>The callback connects the year <code>RangeSlider</code>, country <code>Dropdown</code>, submit <code>Button</code>, and the <code>Graph</code></p><p>Interactive feature: explore by</p><p>&nbsp; - changing the selection of the year <code>RangeSlider</code></p><p>&nbsp; - select multiple countries in the <code>Dropdown</code></p><p>&nbsp; - click the submit <code>Button</code></p><p>What happens to the <code>Graph</code>?</p><p><br></p><p><em>Hints:</em></p><p><em>- Note that the update only happens after the submit </em><code><em>Button</em></code><em> is clicked.</em></p><p><em>- Don't forget that the value property of the country </em><code><em>Dropdown</em></code><em> could have multiple values, so try the </em><code><em>isin</em></code><em> method when filtering.</em></p><p><em>- If you didn't set the value property within the country </em><code><em>Dropdown</em></code><em>, you would get an error message as below:</em></p><p><br></p><blockquote><p>Callback error updating life-expectancy-graph.figure</p><p>TypeError: only list-like objects are allowed to be passed to isin(), you passed a [NoneType]</p></blockquote><p><br></p><p><em>This is because, without the value property, the country </em><code><em>Dropdown</em></code><em>'s value can be None.</em></p><p><em>You can use the PreventUpdate command:</em></p><p><em>&nbsp; &nbsp;- </em><code><em>from dash.exceptions import PreventUpdate</em></code></p><p><em>&nbsp; &nbsp;- add the below code to the beginning of the callback function:</em></p><pre class="prettyprint linenums"> if selected_country is None:
&nbsp; &nbsp; &nbsp; &nbsp; raise PreventUpdate
&nbsp;# selected_country is the input variable name corresponding to the country Dropdown's value property</pre><p><em>When nothing is selected in the country </em><code><em>Dropdown</em></code><em>, </em><code><em>selected_country</em></code><em> is None, the PreventUpdate command prevents the updating of the output. This will fix the problem.</em></p><p><em>Alternatively, you can also return an empty figure, as shown in the lessons of Case study II.</em></p><p><br></p><p><strong>Step 5: Testing the dashboard</strong></p><p>Run the script and test the interactive features</p><p>Again, as long as you have a similar layout and the same interactive features as the final dashboard, you've completed the exercise!</p><p><br></p><p>Please check out the solution in <code>life_expectancy_dashboard_solution.py</code>.</p>